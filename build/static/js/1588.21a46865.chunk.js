"use strict";(self.webpackChunkdata_structure_visualizer=self.webpackChunkdata_structure_visualizer||[]).push([[1588],{61588:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ie});var r,o,i,s,a,l,d,c,h,u,f,m,p,g,x,A,y,j,b,v,w,E,D,S,C=t(89379),k=t(57528),V=t(9950),B=t(44752),R=t(29723),N=t(90234),F=t(74930),z=t(84412),P=t(85283),M=t(44414);const L=B.Ay.div(r||(r=(0,k.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n"]))),G=B.Ay.div(o||(o=(0,k.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),I=B.Ay.h1(i||(i=(0,k.A)(["\n  font-size: 2rem;\n  font-weight: 700;\n  color: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray800}),T=B.Ay.p(s||(s=(0,k.A)(["\n  color: ",";\n  max-width: 800px;\n  line-height: 1.6;\n"])),e=>{let{theme:n}=e;return n.colors.textLight}),q=B.Ay.div(a||(a=(0,k.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  \n  @media (min-width: ",") {\n    flex-direction: row;\n  }\n"])),e=>{let{theme:n}=e;return n.breakpoints.lg}),O=B.Ay.div(l||(l=(0,k.A)(["\n  flex: 2;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n"]))),_=B.Ay.div(d||(d=(0,k.A)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),H=B.Ay.div(c||(c=(0,k.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  padding: 1rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.sm}),W=(B.Ay.div(h||(h=(0,k.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),B.Ay.input(u||(u=(0,k.A)(["\n  padding: 0.5rem;\n  border: 1px solid ",";\n  border-radius: ",";\n  width: 80px;\n  font-family: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray300},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.fonts.mono}),B.Ay.button(f||(f=(0,k.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  font-weight: 500;\n  transition: ",";\n  \n  &:hover {\n    opacity: 0.9;\n    transform: translateY(-1px);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),e=>{let{theme:n,variant:t}=e;return"primary"===t?n.colors.primary:"secondary"===t?n.colors.secondary:"danger"===t?n.colors.danger:n.colors.gray200},e=>{let{variant:n}=e;return n?"white":"inherit"},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.transitions.default})),U=B.Ay.div(m||(m=(0,k.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 2rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  min-height: 500px;\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.md}),X=B.Ay.div(p||(p=(0,k.A)(["\n  position: relative;\n  width: 100%;\n  height: 400px;\n  border: 1px solid ",";\n  border-radius: ",";\n  overflow: hidden;\n"])),e=>{let{theme:n}=e;return n.colors.gray200},e=>{let{theme:n}=e;return n.borderRadius}),Y=B.Ay.svg(g||(g=(0,k.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 1;\n"]))),Z=B.Ay.line(x||(x=(0,k.A)(["\n  stroke: ",";\n  stroke-width: 2;\n  transition: stroke 0.3s ease;\n"])),e=>{let{theme:n,isVisited:t}=e;return t?n.colors.primary:n.colors.gray300}),J=B.Ay.div(A||(A=(0,k.A)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  z-index: 2;\n"]))),K=(0,B.Ay)(R.P.div)(y||(y=(0,k.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  background-color: ",";\n  color: ",";\n  border-radius: 50%;\n  font-family: ",";\n  font-weight: 600;\n  font-size: 1rem;\n  border: 2px solid ",";\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.1);\n  }\n"])),e=>{let{theme:n,isVisited:t,isStart:r,isEnd:o}=e;return r?n.colors.secondary:o?n.colors.danger:t?n.colors.primary:n.colors.gray100},e=>{let{theme:n,isVisited:t,isStart:r,isEnd:o}=e;return t||r||o?"white":n.colors.gray800},e=>{let{theme:n}=e;return n.fonts.mono},e=>{let{theme:n,isVisited:t,isStart:r,isEnd:o}=e;return r?n.colors.secondary:o?n.colors.danger:t?n.colors.primary:n.colors.gray300}),Q=B.Ay.select(j||(j=(0,k.A)(["\n  padding: 0.5rem;\n  border: 1px solid ",";\n  border-radius: ",";\n  background-color: ",";\n  font-family: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray300},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.fonts.sans}),$=B.Ay.div(b||(b=(0,k.A)(["\n  background-color: #1E1E1E;\n  border-radius: ",";\n  overflow: hidden;\n"])),e=>{let{theme:n}=e;return n.borderRadius}),ee=B.Ay.div(v||(v=(0,k.A)(["\n  padding: 0.75rem 1rem;\n  background-color: ",";\n  color: ",";\n  font-family: ",";\n  font-size: 0.875rem;\n"])),e=>{let{theme:n}=e;return n.colors.text},e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.fonts.mono}),ne=B.Ay.div(w||(w=(0,k.A)(["\n  padding: 1rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.sm}),te=B.Ay.h3(E||(E=(0,k.A)(["\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray800}),re=B.Ay.div(D||(D=(0,k.A)(["\n  color: ",";\n  line-height: 1.6;\n  \n  ul {\n    padding-left: 1.5rem;\n    margin-top: 0.5rem;\n  }\n  \n  li {\n    margin-bottom: 0.25rem;\n  }\n"])),e=>{let{theme:n}=e;return n.colors.textLight}),oe=B.Ay.div(S||(S=(0,k.A)(["\n  padding: 0.75rem 1rem;\n  background-color: ",";\n  border-radius: ",";\n  color: ",";\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"])),e=>{let{theme:n}=e;return n.colors.gray100},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.colors.gray700}),ie=()=>{const[e,n]=(0,V.useState)([]),[t,r]=(0,V.useState)([]),[o,i]=(0,V.useState)("bfs"),[s,a]=(0,V.useState)(""),[l,d]=(0,V.useState)(!1),[c,h]=(0,V.useState)(null),[u,f]=(0,V.useState)(null),[m,p]=(0,V.useState)(0),g=(0,V.useRef)(null);(0,V.useEffect)(()=>{x()},[]);const x=()=>{n([{id:"0",x:200,y:100,isVisited:!1,isStart:!0,isEnd:!1},{id:"1",x:100,y:200,isVisited:!1,isStart:!1,isEnd:!1},{id:"2",x:300,y:200,isVisited:!1,isStart:!1,isEnd:!1},{id:"3",x:150,y:300,isVisited:!1,isStart:!1,isEnd:!1},{id:"4",x:250,y:300,isVisited:!1,isStart:!1,isEnd:!1},{id:"5",x:200,y:400,isVisited:!1,isStart:!1,isEnd:!0}]),r([{from:"0",to:"1",isVisited:!1},{from:"0",to:"2",isVisited:!1},{from:"1",to:"3",isVisited:!1},{from:"2",to:"4",isVisited:!1},{from:"3",to:"5",isVisited:!1},{from:"4",to:"5",isVisited:!1},{from:"1",to:"2",isVisited:!1},{from:"3",to:"4",isVisited:!1}]),h("0"),f("5"),p(6),a("Graph initialized with 6 nodes and 8 edges")},A=async()=>{if(!c)return;const e=[c],o=new Set;for(;e.length>0;){const i=e.shift();if(o.has(i))continue;if(o.add(i),n(e=>e.map(e=>e.id===i?(0,C.A)((0,C.A)({},e),{},{isVisited:!0}):e)),a("BFS visiting node ".concat(i)),i===u){a("BFS found path to end node ".concat(u));break}const s=t.filter(e=>e.from===i||e.to===i);for(const n of s){const t=n.from===i?n.to:n.from;o.has(t)||(e.push(t),r(e=>e.map(e=>e.from===n.from&&e.to===n.to?(0,C.A)((0,C.A)({},e),{},{isVisited:!0}):e)))}await new Promise(e=>setTimeout(e,500))}o.has(u)||a("BFS could not find path to end node ".concat(u))},y=async()=>{if(!c)return;const e=new Set,o=async i=>{if(e.has(i))return!1;if(e.add(i),n(e=>e.map(e=>e.id===i?(0,C.A)((0,C.A)({},e),{},{isVisited:!0}):e)),a("DFS visiting node ".concat(i)),await new Promise(e=>setTimeout(e,500)),i===u)return a("DFS found path to end node ".concat(u)),!0;const s=t.filter(e=>e.from===i||e.to===i);for(const n of s){const t=n.from===i?n.to:n.from;if(!e.has(t)){r(e=>e.map(e=>e.from===n.from&&e.to===n.to?(0,C.A)((0,C.A)({},e),{},{isVisited:!0}):e));if(await o(t))return!0}}return!1};await o(c)||a("DFS could not find path to end node ".concat(u))};return(0,M.jsxs)(L,{children:[(0,M.jsxs)(G,{children:[(0,M.jsx)(I,{children:"Graph Visualization"}),(0,M.jsx)(T,{children:"A graph is a non-linear data structure consisting of nodes and edges. This visualization demonstrates graph traversal algorithms like BFS and DFS. Click on nodes to set start and end points, then run the algorithm to see the traversal."})]}),(0,M.jsxs)(q,{children:[(0,M.jsxs)(O,{children:[(0,M.jsxs)(H,{children:[(0,M.jsxs)(Q,{value:o,onChange:e=>{i(e.target.value)},children:[(0,M.jsx)("option",{value:"bfs",children:"Breadth-First Search (BFS)"}),(0,M.jsx)("option",{value:"dfs",children:"Depth-First Search (DFS)"})]}),(0,M.jsxs)(W,{variant:"primary",onClick:async()=>{c?(n(e.map(e=>(0,C.A)((0,C.A)({},e),{},{isVisited:!1}))),r(t.map(e=>(0,C.A)((0,C.A)({},e),{},{isVisited:!1}))),d(!0),"bfs"===o?await A():"dfs"===o&&await y(),d(!1)):a("Please select a start node")},disabled:l||!c,children:[(0,M.jsx)(F.aze,{size:16})," Run Algorithm"]}),(0,M.jsxs)(W,{onClick:()=>{if(!g.current)return;const t=g.current.getBoundingClientRect(),r=Math.random()*(t.width-80)+40,o=Math.random()*(t.height-80)+40,i={id:m.toString(),x:r,y:o,isVisited:!1,isStart:!1,isEnd:!1};n([...e,i]),p(m+1),a("Added node ".concat(i.id))},disabled:l,children:[(0,M.jsx)(F.GGD,{size:16})," Add Node"]}),(0,M.jsxs)(W,{onClick:()=>{if(e.length<2)return void a("Need at least 2 nodes to add an edge");const n=Math.floor(Math.random()*e.length);let o=Math.floor(Math.random()*e.length);for(;n===o;)o=Math.floor(Math.random()*e.length);const i=e[n].id,s=e[o].id;if(t.some(e=>e.from===i&&e.to===s||e.from===s&&e.to===i))return void a("Edge already exists");const l={from:i,to:s,isVisited:!1};r([...t,l]),a("Added edge from ".concat(i," to ").concat(s))},disabled:l,children:[(0,M.jsx)(F.GGD,{size:16})," Add Edge"]}),(0,M.jsxs)(W,{onClick:x,disabled:l,children:[(0,M.jsx)(F.jTZ,{size:16})," Reset"]})]}),(0,M.jsxs)(U,{children:[(0,M.jsxs)(X,{ref:g,children:[(0,M.jsx)(Y,{children:t.map((n,t)=>{const r=e.find(e=>e.id===n.from),o=e.find(e=>e.id===n.to);return r&&o?(0,M.jsx)(Z,{x1:r.x,y1:r.y,x2:o.x,y2:o.y,isVisited:n.isVisited},"".concat(n.from,"-").concat(n.to)):null})}),(0,M.jsx)(N.N,{children:e.map(t=>(0,M.jsx)(J,{style:{left:t.x,top:t.y},children:(0,M.jsx)(K,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.3},isVisited:t.isVisited,isStart:t.isStart,isEnd:t.isEnd,onClick:()=>(t=>{if(!l){if(!c)return h(t),n(e.map(e=>e.id===t?(0,C.A)((0,C.A)({},e),{},{isStart:!0,isEnd:!1}):(0,C.A)((0,C.A)({},e),{},{isStart:!1}))),void a("Node ".concat(t," set as start node"));if(!u)return f(t),n(e.map(e=>e.id===t?(0,C.A)((0,C.A)({},e),{},{isEnd:!0,isStart:!1}):(0,C.A)((0,C.A)({},e),{},{isEnd:!e.isStart&&e.isEnd}))),void a("Node ".concat(t," set as end node"));if(t===c)return h(null),n(e.map(e=>e.id===t?(0,C.A)((0,C.A)({},e),{},{isStart:!1}):e)),void a("Node ".concat(t," unset as start node"));if(t===u)return f(null),n(e.map(e=>e.id===t?(0,C.A)((0,C.A)({},e),{},{isEnd:!1}):e)),void a("Node ".concat(t," unset as end node"));h(t),n(e.map(e=>e.id===t?(0,C.A)((0,C.A)({},e),{},{isStart:!0,isEnd:!1}):(0,C.A)((0,C.A)({},e),{},{isStart:!1}))),a("Node ".concat(t," set as start node"))}})(t.id),children:t.id})},t.id))})]}),s&&(0,M.jsx)(oe,{children:s})]}),(0,M.jsxs)(ne,{children:[(0,M.jsx)(te,{children:"About Graphs"}),(0,M.jsxs)(re,{children:[(0,M.jsx)("p",{children:"A graph is a non-linear data structure consisting of nodes (vertices) and edges. Graphs are used to represent networks of communication, data organization, computational devices, flow of computation, etc."}),(0,M.jsxs)("ul",{children:[(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"BFS (Breadth-First Search):"})," Explores all neighbors at the present depth before moving on to nodes at the next depth level."]}),(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"DFS (Depth-First Search):"})," Explores as far as possible along each branch before backtracking."]}),(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"Time Complexity:"}),(0,M.jsxs)("ul",{children:[(0,M.jsx)("li",{children:"BFS: O(V + E) where V is the number of vertices and E is the number of edges"}),(0,M.jsx)("li",{children:"DFS: O(V + E) where V is the number of vertices and E is the number of edges"})]})]}),(0,M.jsxs)("li",{children:[(0,M.jsx)("strong",{children:"Applications:"}),(0,M.jsxs)("ul",{children:[(0,M.jsx)("li",{children:"Social networks"}),(0,M.jsx)("li",{children:"Web page ranking"}),(0,M.jsx)("li",{children:"GPS navigation"}),(0,M.jsx)("li",{children:"Network routing"})]})]})]})]})]})]}),(0,M.jsxs)(_,{children:[(0,M.jsxs)($,{children:[(0,M.jsx)(ee,{children:"BFS Algorithm"}),(0,M.jsx)(z.A,{language:"javascript",style:P.A,showLineNumbers:!0,children:"\nfunction bfs(graph, startNode, endNode) {\n  const queue = [startNode];\n  const visited = new Set();\n  const parent = {};\n  \n  while (queue.length > 0) {\n    const current = queue.shift();\n    \n    if (visited.has(current)) continue;\n    visited.add(current);\n    \n    // If we reached the end node, we can reconstruct the path\n    if (current === endNode) {\n      return reconstructPath(parent, startNode, endNode);\n    }\n    \n    // Visit all neighbors\n    for (const neighbor of graph[current]) {\n      if (!visited.has(neighbor)) {\n        queue.push(neighbor);\n        parent[neighbor] = current;\n      }\n    }\n  }\n  \n  // No path found\n  return null;\n}"})]}),(0,M.jsxs)($,{children:[(0,M.jsx)(ee,{children:"DFS Algorithm"}),(0,M.jsx)(z.A,{language:"javascript",style:P.A,showLineNumbers:!0,children:"\nfunction dfs(graph, startNode, endNode) {\n  const visited = new Set();\n  const parent = {};\n  \n  function dfsHelper(node) {\n    if (visited.has(node)) return false;\n    visited.add(node);\n    \n    // If we reached the end node, we can reconstruct the path\n    if (node === endNode) {\n      return true;\n    }\n    \n    // Visit all neighbors\n    for (const neighbor of graph[node]) {\n      if (!visited.has(neighbor)) {\n        parent[neighbor] = node;\n        if (dfsHelper(neighbor)) {\n          return true;\n        }\n      }\n    }\n    \n    return false;\n  }\n  \n  if (dfsHelper(startNode)) {\n    return reconstructPath(parent, startNode, endNode);\n  }\n  \n  // No path found\n  return null;\n}"})]})]})]})]})}},85283:(e,n,t)=>{t.d(n,{A:()=>r});const r={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#1E1E1E",color:"#DCDCDC"},"hljs-keyword":{color:"#569CD6"},"hljs-literal":{color:"#569CD6"},"hljs-symbol":{color:"#569CD6"},"hljs-name":{color:"#569CD6"},"hljs-link":{color:"#569CD6",textDecoration:"underline"},"hljs-built_in":{color:"#4EC9B0"},"hljs-type":{color:"#4EC9B0"},"hljs-number":{color:"#B8D7A3"},"hljs-class":{color:"#B8D7A3"},"hljs-string":{color:"#D69D85"},"hljs-meta-string":{color:"#D69D85"},"hljs-regexp":{color:"#9A5334"},"hljs-template-tag":{color:"#9A5334"},"hljs-subst":{color:"#DCDCDC"},"hljs-function":{color:"#DCDCDC"},"hljs-title":{color:"#DCDCDC"},"hljs-params":{color:"#DCDCDC"},"hljs-formula":{color:"#DCDCDC"},"hljs-comment":{color:"#57A64A",fontStyle:"italic"},"hljs-quote":{color:"#57A64A",fontStyle:"italic"},"hljs-doctag":{color:"#608B4E"},"hljs-meta":{color:"#9B9B9B"},"hljs-meta-keyword":{color:"#9B9B9B"},"hljs-tag":{color:"#9B9B9B"},"hljs-variable":{color:"#BD63C5"},"hljs-template-variable":{color:"#BD63C5"},"hljs-attr":{color:"#9CDCFE"},"hljs-attribute":{color:"#9CDCFE"},"hljs-builtin-name":{color:"#9CDCFE"},"hljs-section":{color:"gold"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"},"hljs-bullet":{color:"#D7BA7D"},"hljs-selector-tag":{color:"#D7BA7D"},"hljs-selector-id":{color:"#D7BA7D"},"hljs-selector-class":{color:"#D7BA7D"},"hljs-selector-attr":{color:"#D7BA7D"},"hljs-selector-pseudo":{color:"#D7BA7D"},"hljs-addition":{backgroundColor:"#144212",display:"inline-block",width:"100%"},"hljs-deletion":{backgroundColor:"#600",display:"inline-block",width:"100%"}}},90234:(e,n,t)=>{t.d(n,{N:()=>g});var r=t(9950),o=t(47544);function i(){const e=(0,r.useRef)(!1);return(0,o.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var s=t(47078);var a=t(13487),l=t(79305);class d extends r.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=n.offsetHeight||0,e.width=n.offsetWidth||0,e.top=n.offsetTop,e.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:n,isPresent:t}=e;const o=(0,r.useId)(),i=(0,r.useRef)(null),s=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:e,height:n,top:r,left:a}=s.current;if(t||!i.current||!e||!n)return;i.current.dataset.motionPopId=o;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(n,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[t]),r.createElement(d,{isPresent:t,childRef:i,sizeRef:s},r.cloneElement(n,{ref:i}))}const h=e=>{let{children:n,initial:t,isPresent:o,onExitComplete:i,custom:s,presenceAffectsLayout:d,mode:h}=e;const f=(0,l.M)(u),m=(0,r.useId)(),p=(0,r.useMemo)(()=>({id:m,initial:t,isPresent:o,custom:s,onExitComplete:e=>{f.set(e,!0);for(const n of f.values())if(!n)return;i&&i()},register:e=>(f.set(e,!1),()=>f.delete(e))}),d?void 0:[o]);return(0,r.useMemo)(()=>{f.forEach((e,n)=>f.set(n,!1))},[o]),r.useEffect(()=>{!o&&!f.size&&i&&i()},[o]),"popLayout"===h&&(n=r.createElement(c,{isPresent:o},n)),r.createElement(a.t.Provider,{value:p},n)};function u(){return new Map}var f=t(76017);var m=t(19366);const p=e=>e.key||"";const g=e=>{let{children:n,custom:t,initial:a=!0,onExitComplete:l,exitBeforeEnter:d,presenceAffectsLayout:c=!0,mode:u="sync"}=e;(0,m.V)(!d,"Replace exitBeforeEnter with mode='wait'");const g=(0,r.useContext)(f.L).forceRender||function(){const e=i(),[n,t]=(0,r.useState)(0),o=(0,r.useCallback)(()=>{e.current&&t(n+1)},[n]);return[(0,r.useCallback)(()=>s.Gt.postRender(o),[o]),n]}()[0],x=i(),A=function(e){const n=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&n.push(e)}),n}(n);let y=A;const j=(0,r.useRef)(new Map).current,b=(0,r.useRef)(y),v=(0,r.useRef)(new Map).current,w=(0,r.useRef)(!0);var E;if((0,o.E)(()=>{w.current=!1,function(e,n){e.forEach(e=>{const t=p(e);n.set(t,e)})}(A,v),b.current=y}),E=()=>{w.current=!0,v.clear(),j.clear()},(0,r.useEffect)(()=>()=>E(),[]),w.current)return r.createElement(r.Fragment,null,y.map(e=>r.createElement(h,{key:p(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:c,mode:u},e)));y=[...y];const D=b.current.map(p),S=A.map(p),C=D.length;for(let r=0;r<C;r++){const e=D[r];-1!==S.indexOf(e)||j.has(e)||j.set(e,void 0)}return"wait"===u&&j.size&&(y=[]),j.forEach((e,n)=>{if(-1!==S.indexOf(n))return;const o=v.get(n);if(!o)return;const i=D.indexOf(n);let s=e;if(!s){const e=()=>{j.delete(n);const e=Array.from(v.keys()).filter(e=>!S.includes(e));if(e.forEach(e=>v.delete(e)),b.current=A.filter(t=>{const r=p(t);return r===n||e.includes(r)}),!j.size){if(!1===x.current)return;g(),l&&l()}};s=r.createElement(h,{key:p(o),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:c,mode:u},o),j.set(n,s)}y.splice(i,0,s)}),y=y.map(e=>{const n=e.key;return j.has(n)?e:r.createElement(h,{key:p(e),isPresent:!0,presenceAffectsLayout:c,mode:u},e)}),r.createElement(r.Fragment,null,j.size?y:y.map(e=>(0,r.cloneElement)(e)))}}}]);