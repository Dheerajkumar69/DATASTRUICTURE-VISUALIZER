"use strict";(self.webpackChunkdata_structure_visualizer=self.webpackChunkdata_structure_visualizer||[]).push([[6933],{76933:(e,n,t)=>{t.r(n),t.d(n,{default:()=>me});var r,i,o,l,s,a,h,c,d,u,p,m,g,f,y,x,j,A,v,b,w,C,D,k,E,I,P,R,z=t(89379),B=t(57528),H=t(9950),q=t(44752),M=t(29723),S=t(90234),L=t(74930),T=t(84412),O=t(85283),N=t(44414);const F=q.Ay.div(r||(r=(0,B.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n"]))),V=q.Ay.div(i||(i=(0,B.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),_=q.Ay.h1(o||(o=(0,B.A)(["\n  font-size: 2rem;\n  font-weight: 700;\n  color: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray800}),G=q.Ay.p(l||(l=(0,B.A)(["\n  color: ",";\n  max-width: 800px;\n  line-height: 1.6;\n"])),e=>{let{theme:n}=e;return n.colors.textLight}),Q=q.Ay.div(s||(s=(0,B.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  \n  @media (min-width: ",") {\n    flex-direction: row;\n  }\n"])),e=>{let{theme:n}=e;return n.breakpoints.lg}),U=q.Ay.div(a||(a=(0,B.A)(["\n  flex: 2;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n"]))),W=q.Ay.div(h||(h=(0,B.A)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),X=q.Ay.div(c||(c=(0,B.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  padding: 1rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.sm}),Y=q.Ay.div(d||(d=(0,B.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),Z=q.Ay.input(u||(u=(0,B.A)(["\n  padding: 0.5rem;\n  border: 1px solid ",";\n  border-radius: ",";\n  width: 80px;\n  font-family: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray300},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.fonts.mono}),J=q.Ay.button(p||(p=(0,B.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  font-weight: 500;\n  transition: ",";\n  \n  &:hover {\n    opacity: 0.9;\n    transform: translateY(-1px);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),e=>{let{theme:n,variant:t}=e;return"primary"===t?n.colors.primary:"secondary"===t?n.colors.secondary:"danger"===t?n.colors.danger:n.colors.gray200},e=>{let{variant:n}=e;return n?"white":"inherit"},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.transitions.default}),K=q.Ay.div(m||(m=(0,B.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 2rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  min-height: 500px;\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.md}),$=q.Ay.div(g||(g=(0,B.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin-top: 2rem;\n  position: relative;\n"]))),ee=(q.Ay.div(f||(f=(0,B.A)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-bottom: 2rem;\n"]))),q.Ay.div(y||(y=(0,B.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 1rem;\n  position: relative;\n"])))),ne=(0,q.Ay)(M.P.div)(x||(x=(0,B.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 80px;\n  height: 50px;\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  font-family: ",";\n  font-weight: 600;\n  font-size: 1rem;\n  border: 2px solid ",";\n  position: relative;\n  z-index: 2;\n"])),e=>{let{theme:n,isHighlighted:t}=e;return t?n.colors.primary:"white"},e=>{let{theme:n,isHighlighted:t}=e;return t?"white":n.colors.gray800},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.fonts.mono},e=>{let{theme:n,isHighlighted:t}=e;return t?n.colors.primary:n.colors.gray300}),te=q.Ay.div(j||(j=(0,B.A)(["\n  position: absolute;\n  top: -20px;\n  font-size: 0.75rem;\n  color: ",";\n  font-weight: normal;\n"])),e=>{let{theme:n}=e;return n.colors.gray500}),re=q.Ay.svg(A||(A=(0,B.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 1;\n"]))),ie=q.Ay.line(v||(v=(0,B.A)(["\n  stroke: ",";\n  stroke-width: 2;\n"])),e=>{let{theme:n}=e;return n.colors.gray300}),oe=q.Ay.div(b||(b=(0,B.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: ",";\n  border-radius: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray100},e=>{let{theme:n}=e;return n.borderRadius}),le=q.Ay.div(w||(w=(0,B.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 80px;\n  height: 50px;\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  font-family: ",";\n  font-weight: 600;\n  border: 1px solid ",";\n  position: relative;\n"])),e=>{let{theme:n,isHighlighted:t}=e;return t?n.colors.primary:"white"},e=>{let{theme:n,isHighlighted:t}=e;return t?"white":n.colors.gray800},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.fonts.mono},e=>{let{theme:n,isHighlighted:t}=e;return t?n.colors.primary:n.colors.gray300}),se=q.Ay.div(C||(C=(0,B.A)(["\n  position: absolute;\n  top: -20px;\n  font-size: 0.75rem;\n  color: ",";\n  font-weight: normal;\n"])),e=>{let{theme:n}=e;return n.colors.gray500}),ae=q.Ay.div(D||(D=(0,B.A)(["\n  background-color: #1E1E1E;\n  border-radius: ",";\n  overflow: hidden;\n"])),e=>{let{theme:n}=e;return n.borderRadius}),he=q.Ay.div(k||(k=(0,B.A)(["\n  padding: 0.75rem 1rem;\n  background-color: ",";\n  color: ",";\n  font-family: ",";\n  font-size: 0.875rem;\n"])),e=>{let{theme:n}=e;return n.colors.text},e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.fonts.mono}),ce=q.Ay.div(E||(E=(0,B.A)(["\n  padding: 1rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.sm}),de=q.Ay.h3(I||(I=(0,B.A)(["\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray800}),ue=q.Ay.div(P||(P=(0,B.A)(["\n  color: ",";\n  line-height: 1.6;\n  \n  ul {\n    padding-left: 1.5rem;\n    margin-top: 0.5rem;\n  }\n  \n  li {\n    margin-bottom: 0.25rem;\n  }\n"])),e=>{let{theme:n}=e;return n.colors.textLight}),pe=q.Ay.div(R||(R=(0,B.A)(["\n  padding: 0.75rem 1rem;\n  background-color: ",";\n  border-radius: ",";\n  color: ",";\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"])),e=>{let{theme:n}=e;return n.colors.gray100},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.colors.gray700}),me=()=>{const[e,n]=(0,H.useState)([]),[t,r]=(0,H.useState)(""),[i,o]=(0,H.useState)(""),[l,s]=(0,H.useState)(""),[a,h]=(0,H.useState)(null),[c,d]=(0,H.useState)([]);(0,H.useEffect)(()=>{u()},[]),(0,H.useEffect)(()=>{m()},[e]);const u=()=>{const e=[];[{value:"Task A",priority:3,isHighlighted:!1},{value:"Task B",priority:1,isHighlighted:!1},{value:"Task C",priority:4,isHighlighted:!1},{value:"Task D",priority:2,isHighlighted:!1},{value:"Task E",priority:5,isHighlighted:!1}].forEach(n=>{p(n.value,n.priority,e,!1)}),n(e),h(null),s("Priority queue initialized with 5 tasks")},p=function(t,i){let l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=[...arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,{value:t,priority:i,isHighlighted:!0}];let c=a.length-1;for(;c>0;){const e=Math.floor((c-1)/2);if(!(a[e].priority>a[c].priority))break;[a[e],a[c]]=[a[c],a[e]],c=e}if(!l)return a;n(a),h(c),s('Enqueued "'.concat(t,'" with priority ').concat(i)),r(""),o(""),setTimeout(()=>{n(e=>e.map(e=>(0,z.A)((0,z.A)({},e),{},{isHighlighted:!1}))),h(null)},1500)},m=()=>{if(e.length<=1)return void d([]);const n=[],t=[];for(let r=0;r<e.length;r++){const e=Math.floor(Math.log2(r+1)),n=800/Math.pow(2,e),i=(r-(Math.pow(2,e)-1)+.5)*n,o=100*e+25;t.push({x:i,y:o})}for(let r=0;r<e.length;r++){const e=Math.floor((r-1)/2);r>0&&n.push({x1:t[e].x,y1:t[e].y+25,x2:t[r].x,y2:t[r].y-25})}d(n)};return(0,N.jsxs)(F,{children:[(0,N.jsxs)(V,{children:[(0,N.jsx)(_,{children:"Priority Queue Visualization"}),(0,N.jsx)(G,{children:"A priority queue is an abstract data type similar to a regular queue, but where each element has a priority associated with it. Elements with higher priority are served before elements with lower priority."})]}),(0,N.jsxs)(Q,{children:[(0,N.jsxs)(U,{children:[(0,N.jsxs)(X,{children:[(0,N.jsx)(Y,{children:(0,N.jsx)(Z,{type:"text",placeholder:"Value",value:t,onChange:e=>{r(e.target.value)}})}),(0,N.jsx)(Y,{children:(0,N.jsx)(Z,{type:"number",placeholder:"Priority",value:i,onChange:e=>{o(e.target.value)},min:"1"})}),(0,N.jsxs)(J,{variant:"primary",onClick:()=>{if(!t.trim())return void s("Please enter a value");const e=parseInt(i);isNaN(e)||e<1?s("Please enter a valid priority (1 or higher)"):p(t,e)},children:[(0,N.jsx)(L.GGD,{size:16})," Enqueue"]}),(0,N.jsxs)(J,{variant:"secondary",onClick:()=>{if(0===e.length)return void s("Priority queue is empty");const t=e.map((e,n)=>(0,z.A)((0,z.A)({},e),{},{isHighlighted:0===n}));n(t),h(0);const r=e[0];setTimeout(()=>{if(1===e.length)return n([]),s('Dequeued "'.concat(r.value,'" with priority ').concat(r.priority)),void h(null);const t=[...e];t[0]=(0,z.A)((0,z.A)({},t[t.length-1]),{},{isHighlighted:!0}),t.pop();let i=0;const o=t.length;for(;;){const e=2*i+1,n=2*i+2;let r=i;if(e<o&&t[e].priority<t[r].priority&&(r=e),n<o&&t[n].priority<t[r].priority&&(r=n),r===i)break;[t[i],t[r]]=[t[r],t[i]],i=r}n(t),h(i),s('Dequeued "'.concat(r.value,'" with priority ').concat(r.priority)),setTimeout(()=>{n(e=>e.map(e=>(0,z.A)((0,z.A)({},e),{},{isHighlighted:!1}))),h(null)},1500)},800)},children:[(0,N.jsx)(L.QLg,{size:16})," Dequeue"]}),(0,N.jsxs)(J,{onClick:u,children:[(0,N.jsx)(L.jTZ,{size:16})," Reset"]})]}),(0,N.jsxs)(K,{children:[(0,N.jsxs)($,{children:[(0,N.jsx)(re,{children:c.map((e,n)=>(0,N.jsx)(ie,{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},n))}),(0,N.jsx)(S.N,{children:e.map((e,n)=>{const t=Math.floor(Math.log2(n+1)),r=800/Math.pow(2,t),i=(n-(Math.pow(2,t)-1)+.5)*r,o=100*t+25;return(0,N.jsx)(ee,{style:{position:"absolute",left:i,top:o},children:(0,N.jsxs)(ne,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.3},isHighlighted:e.isHighlighted||n===a,children:[(0,N.jsxs)(te,{children:["Priority: ",e.priority]}),e.value]})},"".concat(e.value,"-").concat(n))})})]}),(0,N.jsx)(oe,{children:e.map((e,n)=>(0,N.jsxs)(le,{isHighlighted:e.isHighlighted||n===a,children:[(0,N.jsx)(se,{children:n}),e.value,(0,N.jsxs)("div",{style:{fontSize:"0.75rem"},children:["Priority: ",e.priority]})]},"array-".concat(e.value,"-").concat(n)))}),l&&(0,N.jsx)(pe,{children:l})]}),(0,N.jsxs)(ce,{children:[(0,N.jsx)(de,{children:"About Priority Queues"}),(0,N.jsxs)(ue,{children:[(0,N.jsx)("p",{children:"A priority queue is an abstract data type similar to a regular queue, but where each element has a priority associated with it. Elements with higher priority are served before elements with lower priority."}),(0,N.jsxs)("ul",{children:[(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Enqueue:"})," Add an element with a priority to the queue"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Dequeue:"})," Remove and return the element with the highest priority"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Peek:"})," View the element with the highest priority without removing it"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Time Complexity:"}),(0,N.jsxs)("ul",{children:[(0,N.jsx)("li",{children:"Enqueue: O(log n)"}),(0,N.jsx)("li",{children:"Dequeue: O(log n)"}),(0,N.jsx)("li",{children:"Peek: O(1)"})]})]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Implementation:"})," Priority queues are typically implemented using binary heaps, but can also be implemented using other data structures like binary search trees or arrays."]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Applications:"}),(0,N.jsxs)("ul",{children:[(0,N.jsx)("li",{children:"Dijkstra's algorithm for finding shortest paths in a graph"}),(0,N.jsx)("li",{children:"Prim's algorithm for finding minimum spanning trees"}),(0,N.jsx)("li",{children:"Huffman coding for data compression"}),(0,N.jsx)("li",{children:"Task scheduling in operating systems"}),(0,N.jsx)("li",{children:"Event-driven simulation"})]})]})]})]})]})]}),(0,N.jsxs)(W,{children:[(0,N.jsxs)(ae,{children:[(0,N.jsx)(he,{children:"Enqueue Operation"}),(0,N.jsx)(T.A,{language:"javascript",style:O.A,showLineNumbers:!0,children:"\nfunction enqueue(value, priority) {\n  // Add the new node to the end of the queue\n  this.heap.push({ value, priority });\n  \n  // Get the index of the newly added element\n  let currentIndex = this.heap.length - 1;\n  \n  // Heapify up (min-heap based on priority)\n  while (currentIndex > 0) {\n    const parentIndex = Math.floor((currentIndex - 1) / 2);\n    \n    // If parent has higher priority value (higher number means lower priority)\n    if (this.heap[parentIndex].priority > this.heap[currentIndex].priority) {\n      // Swap\n      [this.heap[parentIndex], this.heap[currentIndex]] = \n        [this.heap[currentIndex], this.heap[parentIndex]];\n      currentIndex = parentIndex;\n    } else {\n      break;\n    }\n  }\n}"})]}),(0,N.jsxs)(ae,{children:[(0,N.jsx)(he,{children:"Dequeue Operation"}),(0,N.jsx)(T.A,{language:"javascript",style:O.A,showLineNumbers:!0,children:"\nfunction dequeue() {\n  if (this.heap.length === 0) {\n    return null;\n  }\n  \n  const highestPriorityItem = this.heap[0];\n  \n  // If there's only one element, just remove it\n  if (this.heap.length === 1) {\n    this.heap.pop();\n    return highestPriorityItem;\n  }\n  \n  // Replace the root with the last element\n  this.heap[0] = this.heap.pop();\n  \n  // Heapify down\n  let currentIndex = 0;\n  const heapSize = this.heap.length;\n  \n  while (true) {\n    const leftChildIndex = 2 * currentIndex + 1;\n    const rightChildIndex = 2 * currentIndex + 2;\n    let smallestIndex = currentIndex;\n    \n    // Find the smallest priority value\n    if (leftChildIndex < heapSize && \n        this.heap[leftChildIndex].priority < this.heap[smallestIndex].priority) {\n      smallestIndex = leftChildIndex;\n    }\n    \n    if (rightChildIndex < heapSize && \n        this.heap[rightChildIndex].priority < this.heap[smallestIndex].priority) {\n      smallestIndex = rightChildIndex;\n    }\n    \n    // If no swap is needed, break\n    if (smallestIndex === currentIndex) {\n      break;\n    }\n    \n    // Swap\n    [this.heap[currentIndex], this.heap[smallestIndex]] = \n      [this.heap[smallestIndex], this.heap[currentIndex]];\n    currentIndex = smallestIndex;\n  }\n  \n  return highestPriorityItem;\n}"})]}),(0,N.jsxs)(ae,{children:[(0,N.jsx)(he,{children:"Peek Operation"}),(0,N.jsx)(T.A,{language:"javascript",style:O.A,showLineNumbers:!0,children:"\nfunction peek() {\n  if (this.heap.length === 0) {\n    return null;\n  }\n  \n  return this.heap[0];\n}"})]})]})]})]})}},85283:(e,n,t)=>{t.d(n,{A:()=>r});const r={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#1E1E1E",color:"#DCDCDC"},"hljs-keyword":{color:"#569CD6"},"hljs-literal":{color:"#569CD6"},"hljs-symbol":{color:"#569CD6"},"hljs-name":{color:"#569CD6"},"hljs-link":{color:"#569CD6",textDecoration:"underline"},"hljs-built_in":{color:"#4EC9B0"},"hljs-type":{color:"#4EC9B0"},"hljs-number":{color:"#B8D7A3"},"hljs-class":{color:"#B8D7A3"},"hljs-string":{color:"#D69D85"},"hljs-meta-string":{color:"#D69D85"},"hljs-regexp":{color:"#9A5334"},"hljs-template-tag":{color:"#9A5334"},"hljs-subst":{color:"#DCDCDC"},"hljs-function":{color:"#DCDCDC"},"hljs-title":{color:"#DCDCDC"},"hljs-params":{color:"#DCDCDC"},"hljs-formula":{color:"#DCDCDC"},"hljs-comment":{color:"#57A64A",fontStyle:"italic"},"hljs-quote":{color:"#57A64A",fontStyle:"italic"},"hljs-doctag":{color:"#608B4E"},"hljs-meta":{color:"#9B9B9B"},"hljs-meta-keyword":{color:"#9B9B9B"},"hljs-tag":{color:"#9B9B9B"},"hljs-variable":{color:"#BD63C5"},"hljs-template-variable":{color:"#BD63C5"},"hljs-attr":{color:"#9CDCFE"},"hljs-attribute":{color:"#9CDCFE"},"hljs-builtin-name":{color:"#9CDCFE"},"hljs-section":{color:"gold"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"},"hljs-bullet":{color:"#D7BA7D"},"hljs-selector-tag":{color:"#D7BA7D"},"hljs-selector-id":{color:"#D7BA7D"},"hljs-selector-class":{color:"#D7BA7D"},"hljs-selector-attr":{color:"#D7BA7D"},"hljs-selector-pseudo":{color:"#D7BA7D"},"hljs-addition":{backgroundColor:"#144212",display:"inline-block",width:"100%"},"hljs-deletion":{backgroundColor:"#600",display:"inline-block",width:"100%"}}},90234:(e,n,t)=>{t.d(n,{N:()=>f});var r=t(9950),i=t(47544);function o(){const e=(0,r.useRef)(!1);return(0,i.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var l=t(47078);var s=t(13487),a=t(79305);class h extends r.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=n.offsetHeight||0,e.width=n.offsetWidth||0,e.top=n.offsetTop,e.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:n,isPresent:t}=e;const i=(0,r.useId)(),o=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:e,height:n,top:r,left:s}=l.current;if(t||!o.current||!e||!n)return;o.current.dataset.motionPopId=i;const a=document.createElement("style");return document.head.appendChild(a),a.sheet&&a.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(n,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(a)}},[t]),r.createElement(h,{isPresent:t,childRef:o,sizeRef:l},r.cloneElement(n,{ref:o}))}const d=e=>{let{children:n,initial:t,isPresent:i,onExitComplete:o,custom:l,presenceAffectsLayout:h,mode:d}=e;const p=(0,a.M)(u),m=(0,r.useId)(),g=(0,r.useMemo)(()=>({id:m,initial:t,isPresent:i,custom:l,onExitComplete:e=>{p.set(e,!0);for(const n of p.values())if(!n)return;o&&o()},register:e=>(p.set(e,!1),()=>p.delete(e))}),h?void 0:[i]);return(0,r.useMemo)(()=>{p.forEach((e,n)=>p.set(n,!1))},[i]),r.useEffect(()=>{!i&&!p.size&&o&&o()},[i]),"popLayout"===d&&(n=r.createElement(c,{isPresent:i},n)),r.createElement(s.t.Provider,{value:g},n)};function u(){return new Map}var p=t(76017);var m=t(19366);const g=e=>e.key||"";const f=e=>{let{children:n,custom:t,initial:s=!0,onExitComplete:a,exitBeforeEnter:h,presenceAffectsLayout:c=!0,mode:u="sync"}=e;(0,m.V)(!h,"Replace exitBeforeEnter with mode='wait'");const f=(0,r.useContext)(p.L).forceRender||function(){const e=o(),[n,t]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{e.current&&t(n+1)},[n]);return[(0,r.useCallback)(()=>l.Gt.postRender(i),[i]),n]}()[0],y=o(),x=function(e){const n=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&n.push(e)}),n}(n);let j=x;const A=(0,r.useRef)(new Map).current,v=(0,r.useRef)(j),b=(0,r.useRef)(new Map).current,w=(0,r.useRef)(!0);var C;if((0,i.E)(()=>{w.current=!1,function(e,n){e.forEach(e=>{const t=g(e);n.set(t,e)})}(x,b),v.current=j}),C=()=>{w.current=!0,b.clear(),A.clear()},(0,r.useEffect)(()=>()=>C(),[]),w.current)return r.createElement(r.Fragment,null,j.map(e=>r.createElement(d,{key:g(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:c,mode:u},e)));j=[...j];const D=v.current.map(g),k=x.map(g),E=D.length;for(let r=0;r<E;r++){const e=D[r];-1!==k.indexOf(e)||A.has(e)||A.set(e,void 0)}return"wait"===u&&A.size&&(j=[]),A.forEach((e,n)=>{if(-1!==k.indexOf(n))return;const i=b.get(n);if(!i)return;const o=D.indexOf(n);let l=e;if(!l){const e=()=>{A.delete(n);const e=Array.from(b.keys()).filter(e=>!k.includes(e));if(e.forEach(e=>b.delete(e)),v.current=x.filter(t=>{const r=g(t);return r===n||e.includes(r)}),!A.size){if(!1===y.current)return;f(),a&&a()}};l=r.createElement(d,{key:g(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:c,mode:u},i),A.set(n,l)}j.splice(o,0,l)}),j=j.map(e=>{const n=e.key;return A.has(n)?e:r.createElement(d,{key:g(e),isPresent:!0,presenceAffectsLayout:c,mode:u},e)}),r.createElement(r.Fragment,null,A.size?j:j.map(e=>(0,r.cloneElement)(e)))}}}]);