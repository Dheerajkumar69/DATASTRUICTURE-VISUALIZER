"use strict";(self.webpackChunkdata_structure_visualizer=self.webpackChunkdata_structure_visualizer||[]).push([[692],{30692:(e,n,t)=>{t.r(n),t.d(n,{default:()=>pe});var r,i,s,l,o,a,c,h,d,u,m,f,p,y,x,g,j,b,A,k,v,C,w,D,E,R,z,B,H=t(89379),S=t(57528),P=t(9950),L=t(44752),I=t(29723),F=t(90234),O=t(74930),T=t(84412),N=t(85283),K=t(44414);const M=L.Ay.div(r||(r=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n"]))),_=L.Ay.div(i||(i=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),U=L.Ay.h1(s||(s=(0,S.A)(["\n  font-size: 2rem;\n  font-weight: 700;\n  color: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray800}),V=L.Ay.p(l||(l=(0,S.A)(["\n  color: ",";\n  max-width: 800px;\n  line-height: 1.6;\n"])),e=>{let{theme:n}=e;return n.colors.textLight}),G=L.Ay.div(o||(o=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  \n  @media (min-width: ",") {\n    flex-direction: row;\n  }\n"])),e=>{let{theme:n}=e;return n.breakpoints.lg}),W=L.Ay.div(a||(a=(0,S.A)(["\n  flex: 2;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n"]))),Q=L.Ay.div(c||(c=(0,S.A)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),Y=L.Ay.div(h||(h=(0,S.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n  padding: 1rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.sm}),q=L.Ay.div(d||(d=(0,S.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),J=L.Ay.input(u||(u=(0,S.A)(["\n  padding: 0.5rem;\n  border: 1px solid ",";\n  border-radius: ",";\n  width: 80px;\n  font-family: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray300},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.fonts.mono}),X=L.Ay.button(m||(m=(0,S.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  font-weight: 500;\n  transition: ",";\n  \n  &:hover {\n    opacity: 0.9;\n    transform: translateY(-1px);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),e=>{let{theme:n,variant:t}=e;return"primary"===t?n.colors.primary:"secondary"===t?n.colors.secondary:"danger"===t?n.colors.danger:n.colors.gray200},e=>{let{variant:n}=e;return n?"white":"inherit"},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.transitions.default}),Z=L.Ay.div(f||(f=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 2rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  min-height: 500px;\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.md}),$=L.Ay.div(p||(p=(0,S.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  width: 100%;\n"]))),ee=L.Ay.div(y||(y=(0,S.A)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 0.5rem;\n  background-color: ",";\n  border-radius: ",";\n  transition: background-color 0.3s ease;\n"])),e=>{let{theme:n,isHighlighted:t}=e;return t?n.colors.primary+"20":"transparent"},e=>{let{theme:n}=e;return n.borderRadius}),ne=L.Ay.div(x||(x=(0,S.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  font-family: ",";\n  font-weight: 600;\n  margin-right: 1rem;\n"])),e=>{let{theme:n}=e;return n.colors.gray100},e=>{let{theme:n}=e;return n.colors.gray700},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.fonts.mono}),te=L.Ay.div(g||(g=(0,S.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  flex: 1;\n  min-height: 40px;\n"]))),re=(0,L.Ay)(I.P.div)(j||(j=(0,S.A)(["\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 0.75rem;\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  font-family: ",";\n  font-size: 0.875rem;\n  border: 1px solid ",";\n"])),e=>{let{theme:n,isHighlighted:t}=e;return t?n.colors.primary:n.colors.gray100},e=>{let{theme:n,isHighlighted:t}=e;return t?"white":n.colors.gray800},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.fonts.mono},e=>{let{theme:n,isHighlighted:t}=e;return t?n.colors.primary:n.colors.gray300}),ie=L.Ay.div(b||(b=(0,S.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),se=L.Ay.span(A||(A=(0,S.A)(["\n  font-weight: 600;\n"]))),le=L.Ay.span(k||(k=(0,S.A)(["\n  color: inherit;\n  opacity: 0.8;\n"]))),oe=L.Ay.span(v||(v=(0,S.A)(["\n  color: inherit;\n  opacity: 0.5;\n"]))),ae=L.Ay.div(C||(C=(0,S.A)(["\n  padding: 1rem;\n  background-color: ",";\n  border-radius: ",";\n  font-family: ",";\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"])),e=>{let{theme:n}=e;return n.colors.gray100},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.fonts.mono}),ce=L.Ay.div(w||(w=(0,S.A)(["\n  background-color: #1E1E1E;\n  border-radius: ",";\n  overflow: hidden;\n"])),e=>{let{theme:n}=e;return n.borderRadius}),he=L.Ay.div(D||(D=(0,S.A)(["\n  padding: 0.75rem 1rem;\n  background-color: ",";\n  color: ",";\n  font-family: ",";\n  font-size: 0.875rem;\n"])),e=>{let{theme:n}=e;return n.colors.text},e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.fonts.mono}),de=L.Ay.div(E||(E=(0,S.A)(["\n  padding: 1rem;\n  background-color: ",";\n  border-radius: ",";\n  box-shadow: ",";\n"])),e=>{let{theme:n}=e;return n.colors.card},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadows.sm}),ue=L.Ay.h3(R||(R=(0,S.A)(["\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: ",";\n"])),e=>{let{theme:n}=e;return n.colors.gray800}),me=L.Ay.div(z||(z=(0,S.A)(["\n  color: ",";\n  line-height: 1.6;\n  \n  ul {\n    padding-left: 1.5rem;\n    margin-top: 0.5rem;\n  }\n  \n  li {\n    margin-bottom: 0.25rem;\n  }\n"])),e=>{let{theme:n}=e;return n.colors.textLight}),fe=L.Ay.div(B||(B=(0,S.A)(["\n  padding: 0.75rem 1rem;\n  background-color: ",";\n  border-radius: ",";\n  color: ",";\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"])),e=>{let{theme:n}=e;return n.colors.gray100},e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.colors.gray700}),pe=()=>{const[e,n]=(0,P.useState)([]),[t,r]=(0,P.useState)(""),[i,s]=(0,P.useState)(""),[l,o]=(0,P.useState)(""),[a,c]=(0,P.useState)(10),[h,d]=(0,P.useState)(null);(0,P.useEffect)(()=>{u()},[]);const u=()=>{const e=Array(a).fill(null).map(()=>[]);[{key:"name",value:"John"},{key:"age",value:"30"},{key:"city",value:"New York"},{key:"job",value:"Developer"},{key:"hobby",value:"Coding"}].forEach(n=>{const t=m(n.key,a);e[t].push({key:n.key,value:n.value,isHighlighted:!1})}),n(e),d(null),o("Hash table initialized with 5 key-value pairs")},m=(e,n)=>{let t=0;for(let r=0;r<e.length;r++)t=(t+e.charCodeAt(r))%n;return t};return(0,K.jsxs)(M,{children:[(0,K.jsxs)(_,{children:[(0,K.jsx)(U,{children:"Hash Table Visualization"}),(0,K.jsx)(V,{children:"A hash table is a data structure that implements an associative array abstract data type, a structure that can map keys to values. This visualization demonstrates operations like insertion, deletion, and lookup in hash tables with collision resolution using chaining."})]}),(0,K.jsxs)(G,{children:[(0,K.jsxs)(W,{children:[(0,K.jsxs)(Y,{children:[(0,K.jsx)(q,{children:(0,K.jsx)(J,{type:"text",placeholder:"Key",value:t,onChange:e=>{r(e.target.value)}})}),(0,K.jsx)(q,{children:(0,K.jsx)(J,{type:"text",placeholder:"Value",value:i,onChange:e=>{s(e.target.value)}})}),(0,K.jsxs)(X,{variant:"primary",onClick:()=>{if(!t)return void o("Please enter a key");const l=m(t,a),c=e[l].findIndex(e=>e.key===t);if(-1!==c){const r=[...e];r[l]=[...r[l]],r[l][c]=(0,H.A)((0,H.A)({},r[l][c]),{},{value:i,isHighlighted:!0}),n(r),d(l),o('Updated key "'.concat(t,'" with value "').concat(i,'" at index ').concat(l))}else{const r=[...e];r[l]=[...r[l],{key:t,value:i,isHighlighted:!0}],n(r),d(l),o('Inserted key "'.concat(t,'" with value "').concat(i,'" at index ').concat(l))}setTimeout(()=>{const t=[...e];t[l]=t[l].map(e=>(0,H.A)((0,H.A)({},e),{},{isHighlighted:!1})),n(t),d(null)},1500),r(""),s("")},children:[(0,K.jsx)(O.GGD,{size:16})," Insert"]}),(0,K.jsxs)(X,{variant:"danger",onClick:()=>{if(!t)return void o("Please enter a key to remove");const i=m(t,a),s=e[i].findIndex(e=>e.key===t);if(-1===s)return void o('Key "'.concat(t,'" not found in the hash table'));const l=[...e];l[i]=[...l[i]],l[i][s]=(0,H.A)((0,H.A)({},l[i][s]),{},{isHighlighted:!0}),n(l),d(i),setTimeout(()=>{const r=[...e];r[i]=r[i].filter(e=>e.key!==t),n(r),d(null),o('Removed key "'.concat(t,'" from index ').concat(i))},800),r("")},children:[(0,K.jsx)(O.QLg,{size:16})," Remove"]}),(0,K.jsxs)(X,{variant:"secondary",onClick:()=>{if(!t)return void o("Please enter a key to search");const r=m(t,a),i=e[r].find(e=>e.key===t);if(!i)return void o('Key "'.concat(t,'" not found in the hash table'));const s=[...e];s[r]=s[r].map(e=>(0,H.A)((0,H.A)({},e),{},{isHighlighted:e.key===t})),n(s),d(r),o('Found key "'.concat(t,'" with value "').concat(i.value,'" at index ').concat(r)),setTimeout(()=>{const t=[...e];t[r]=t[r].map(e=>(0,H.A)((0,H.A)({},e),{},{isHighlighted:!1})),n(t),d(null)},1500)},children:[(0,K.jsx)(O.CKj,{size:16})," Search"]}),(0,K.jsxs)(X,{onClick:u,children:[(0,K.jsx)(O.jTZ,{size:16})," Reset"]})]}),(0,K.jsxs)(Z,{children:[(0,K.jsxs)(ae,{children:[(0,K.jsx)(O.Qz2,{size:14,style:{marginRight:"0.5rem"}}),"hash(key) = sum(ASCII values of characters) % ",a]}),(0,K.jsx)($,{children:e.map((e,n)=>(0,K.jsxs)(ee,{isHighlighted:n===h,children:[(0,K.jsx)(ne,{children:n}),(0,K.jsx)(te,{children:(0,K.jsx)(F.N,{children:e.map((e,n)=>(0,K.jsx)(re,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},isHighlighted:e.isHighlighted,children:(0,K.jsxs)(ie,{children:[(0,K.jsx)(se,{children:e.key}),(0,K.jsx)(oe,{children:":"}),(0,K.jsx)(le,{children:e.value})]})},"".concat(e.key,"-").concat(n)))})})]},n))}),l&&(0,K.jsx)(fe,{children:l})]}),(0,K.jsxs)(de,{children:[(0,K.jsx)(ue,{children:"About Hash Tables"}),(0,K.jsxs)(me,{children:[(0,K.jsx)("p",{children:"A hash table is a data structure that implements an associative array abstract data type, a structure that can map keys to values. It uses a hash function to compute an index into an array of buckets or slots, from which the desired value can be found."}),(0,K.jsxs)("ul",{children:[(0,K.jsxs)("li",{children:[(0,K.jsx)("strong",{children:"Insert:"})," Add a key-value pair to the hash table"]}),(0,K.jsxs)("li",{children:[(0,K.jsx)("strong",{children:"Search:"})," Find a value associated with a key"]}),(0,K.jsxs)("li",{children:[(0,K.jsx)("strong",{children:"Remove:"})," Delete a key-value pair from the hash table"]}),(0,K.jsxs)("li",{children:[(0,K.jsx)("strong",{children:"Time Complexity:"}),(0,K.jsxs)("ul",{children:[(0,K.jsx)("li",{children:"Average case: O(1) for insert, search, and delete"}),(0,K.jsx)("li",{children:"Worst case: O(n) when many collisions occur"})]})]}),(0,K.jsxs)("li",{children:[(0,K.jsx)("strong",{children:"Collision Resolution:"}),(0,K.jsxs)("ul",{children:[(0,K.jsx)("li",{children:"Chaining: Store multiple key-value pairs in the same bucket (shown in this visualization)"}),(0,K.jsx)("li",{children:"Open addressing: Find another slot when a collision occurs"})]})]}),(0,K.jsxs)("li",{children:[(0,K.jsx)("strong",{children:"Applications:"}),(0,K.jsxs)("ul",{children:[(0,K.jsx)("li",{children:"Database indexing"}),(0,K.jsx)("li",{children:"Caches"}),(0,K.jsx)("li",{children:"Symbol tables in compilers"}),(0,K.jsx)("li",{children:"Associative arrays"})]})]})]})]})]})]}),(0,K.jsxs)(Q,{children:[(0,K.jsxs)(ce,{children:[(0,K.jsx)(he,{children:"Hash Function"}),(0,K.jsx)(T.A,{language:"javascript",style:N.A,showLineNumbers:!0,children:"\nfunction hash(key) {\n  let hash = 0;\n  \n  // Convert string key to numeric hash\n  for (let i = 0; i < key.length; i++) {\n    hash += key.charCodeAt(i);\n  }\n  \n  // Ensure hash is within table size\n  return hash % this.size;\n}"})]}),(0,K.jsxs)(ce,{children:[(0,K.jsx)(he,{children:"Insert Operation"}),(0,K.jsx)(T.A,{language:"javascript",style:N.A,showLineNumbers:!0,children:"\nfunction insert(key, value) {\n  // Calculate the index using hash function\n  const index = this.hash(key);\n  \n  // Check if bucket exists\n  if (!this.table[index]) {\n    this.table[index] = [];\n  }\n  \n  // Check if key already exists\n  for (let i = 0; i < this.table[index].length; i++) {\n    if (this.table[index][i].key === key) {\n      // Update value if key exists\n      this.table[index][i].value = value;\n      return;\n    }\n  }\n  \n  // Add new key-value pair\n  this.table[index].push({ key, value });\n}"})]}),(0,K.jsxs)(ce,{children:[(0,K.jsx)(he,{children:"Search Operation"}),(0,K.jsx)(T.A,{language:"javascript",style:N.A,showLineNumbers:!0,children:"\nfunction search(key) {\n  // Calculate the index using hash function\n  const index = this.hash(key);\n  \n  // Check if bucket exists\n  if (!this.table[index]) {\n    return null;\n  }\n  \n  // Search for the key in the bucket\n  for (let i = 0; i < this.table[index].length; i++) {\n    if (this.table[index][i].key === key) {\n      return this.table[index][i].value;\n    }\n  }\n  \n  // Key not found\n  return null;\n}"})]}),(0,K.jsxs)(ce,{children:[(0,K.jsx)(he,{children:"Remove Operation"}),(0,K.jsx)(T.A,{language:"javascript",style:N.A,showLineNumbers:!0,children:"\nfunction remove(key) {\n  // Calculate the index using hash function\n  const index = this.hash(key);\n  \n  // Check if bucket exists\n  if (!this.table[index]) {\n    return false;\n  }\n  \n  // Find the key in the bucket\n  for (let i = 0; i < this.table[index].length; i++) {\n    if (this.table[index][i].key === key) {\n      // Remove the key-value pair\n      this.table[index].splice(i, 1);\n      return true;\n    }\n  }\n  \n  // Key not found\n  return false;\n}"})]})]})]})]})}},85283:(e,n,t)=>{t.d(n,{A:()=>r});const r={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#1E1E1E",color:"#DCDCDC"},"hljs-keyword":{color:"#569CD6"},"hljs-literal":{color:"#569CD6"},"hljs-symbol":{color:"#569CD6"},"hljs-name":{color:"#569CD6"},"hljs-link":{color:"#569CD6",textDecoration:"underline"},"hljs-built_in":{color:"#4EC9B0"},"hljs-type":{color:"#4EC9B0"},"hljs-number":{color:"#B8D7A3"},"hljs-class":{color:"#B8D7A3"},"hljs-string":{color:"#D69D85"},"hljs-meta-string":{color:"#D69D85"},"hljs-regexp":{color:"#9A5334"},"hljs-template-tag":{color:"#9A5334"},"hljs-subst":{color:"#DCDCDC"},"hljs-function":{color:"#DCDCDC"},"hljs-title":{color:"#DCDCDC"},"hljs-params":{color:"#DCDCDC"},"hljs-formula":{color:"#DCDCDC"},"hljs-comment":{color:"#57A64A",fontStyle:"italic"},"hljs-quote":{color:"#57A64A",fontStyle:"italic"},"hljs-doctag":{color:"#608B4E"},"hljs-meta":{color:"#9B9B9B"},"hljs-meta-keyword":{color:"#9B9B9B"},"hljs-tag":{color:"#9B9B9B"},"hljs-variable":{color:"#BD63C5"},"hljs-template-variable":{color:"#BD63C5"},"hljs-attr":{color:"#9CDCFE"},"hljs-attribute":{color:"#9CDCFE"},"hljs-builtin-name":{color:"#9CDCFE"},"hljs-section":{color:"gold"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"},"hljs-bullet":{color:"#D7BA7D"},"hljs-selector-tag":{color:"#D7BA7D"},"hljs-selector-id":{color:"#D7BA7D"},"hljs-selector-class":{color:"#D7BA7D"},"hljs-selector-attr":{color:"#D7BA7D"},"hljs-selector-pseudo":{color:"#D7BA7D"},"hljs-addition":{backgroundColor:"#144212",display:"inline-block",width:"100%"},"hljs-deletion":{backgroundColor:"#600",display:"inline-block",width:"100%"}}},90234:(e,n,t)=>{t.d(n,{N:()=>y});var r=t(9950),i=t(47544);function s(){const e=(0,r.useRef)(!1);return(0,i.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var l=t(47078);var o=t(13487),a=t(79305);class c extends r.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=n.offsetHeight||0,e.width=n.offsetWidth||0,e.top=n.offsetTop,e.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:n,isPresent:t}=e;const i=(0,r.useId)(),s=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:e,height:n,top:r,left:o}=l.current;if(t||!s.current||!e||!n)return;s.current.dataset.motionPopId=i;const a=document.createElement("style");return document.head.appendChild(a),a.sheet&&a.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(n,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(a)}},[t]),r.createElement(c,{isPresent:t,childRef:s,sizeRef:l},r.cloneElement(n,{ref:s}))}const d=e=>{let{children:n,initial:t,isPresent:i,onExitComplete:s,custom:l,presenceAffectsLayout:c,mode:d}=e;const m=(0,a.M)(u),f=(0,r.useId)(),p=(0,r.useMemo)(()=>({id:f,initial:t,isPresent:i,custom:l,onExitComplete:e=>{m.set(e,!0);for(const n of m.values())if(!n)return;s&&s()},register:e=>(m.set(e,!1),()=>m.delete(e))}),c?void 0:[i]);return(0,r.useMemo)(()=>{m.forEach((e,n)=>m.set(n,!1))},[i]),r.useEffect(()=>{!i&&!m.size&&s&&s()},[i]),"popLayout"===d&&(n=r.createElement(h,{isPresent:i},n)),r.createElement(o.t.Provider,{value:p},n)};function u(){return new Map}var m=t(76017);var f=t(19366);const p=e=>e.key||"";const y=e=>{let{children:n,custom:t,initial:o=!0,onExitComplete:a,exitBeforeEnter:c,presenceAffectsLayout:h=!0,mode:u="sync"}=e;(0,f.V)(!c,"Replace exitBeforeEnter with mode='wait'");const y=(0,r.useContext)(m.L).forceRender||function(){const e=s(),[n,t]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{e.current&&t(n+1)},[n]);return[(0,r.useCallback)(()=>l.Gt.postRender(i),[i]),n]}()[0],x=s(),g=function(e){const n=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&n.push(e)}),n}(n);let j=g;const b=(0,r.useRef)(new Map).current,A=(0,r.useRef)(j),k=(0,r.useRef)(new Map).current,v=(0,r.useRef)(!0);var C;if((0,i.E)(()=>{v.current=!1,function(e,n){e.forEach(e=>{const t=p(e);n.set(t,e)})}(g,k),A.current=j}),C=()=>{v.current=!0,k.clear(),b.clear()},(0,r.useEffect)(()=>()=>C(),[]),v.current)return r.createElement(r.Fragment,null,j.map(e=>r.createElement(d,{key:p(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:h,mode:u},e)));j=[...j];const w=A.current.map(p),D=g.map(p),E=w.length;for(let r=0;r<E;r++){const e=w[r];-1!==D.indexOf(e)||b.has(e)||b.set(e,void 0)}return"wait"===u&&b.size&&(j=[]),b.forEach((e,n)=>{if(-1!==D.indexOf(n))return;const i=k.get(n);if(!i)return;const s=w.indexOf(n);let l=e;if(!l){const e=()=>{b.delete(n);const e=Array.from(k.keys()).filter(e=>!D.includes(e));if(e.forEach(e=>k.delete(e)),A.current=g.filter(t=>{const r=p(t);return r===n||e.includes(r)}),!b.size){if(!1===x.current)return;y(),a&&a()}};l=r.createElement(d,{key:p(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:h,mode:u},i),b.set(n,l)}j.splice(s,0,l)}),j=j.map(e=>{const n=e.key;return b.has(n)?e:r.createElement(d,{key:p(e),isPresent:!0,presenceAffectsLayout:h,mode:u},e)}),r.createElement(r.Fragment,null,b.size?j:j.map(e=>(0,r.cloneElement)(e)))}}}]);